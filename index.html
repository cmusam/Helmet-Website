<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Helmet by sams1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Helmet</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/sams1/418-project" class="btn">View on GitHub</a>
      <a href="https://github.com/sams1/418-project/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/sams1/418-project/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="final-report-draft-59" class="anchor" href="#final-report-draft-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Final Report Draft (5/9)</h1>

<p>Final Write Up (due Monday, May 9th, 11:59PM)</p>

<p>Your proposal should include the following basic sections. Not all the sub-bullets apply to all projects, but they are given as examples/suggestions of issues to address. You are also encouraged to provide more detail if you wish. Note that some of the information in your final writeup can be pulled directly from your proposal if it is still accurate.</p>

<h2>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SUMMARY</h2>

<p>I implemented and parallelized selected machine learning functions and routines written in Swift 2.0 on OS X using Metal, <em>a low-level, low-overhead hardware-accelerated graphics and compute API</em>.</p>

<h2>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BACKGROUND</h2>

<h3>
<a id="sigmoid" class="anchor" href="#sigmoid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sigmoid</h3>

<h3>
<a id="gradient-descent" class="anchor" href="#gradient-descent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Gradient descent</h3>

<h3>
<a id="stochastic-gradient-descent" class="anchor" href="#stochastic-gradient-descent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Stochastic Gradient descent</h3>

<h3>
<a id="convolution" class="anchor" href="#convolution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Convolution</h3>

<p><img src="http://deeplearning.stanford.edu/wiki/images/6/6c/Convolution_schematic.gif" alt=""></p>

<p>Describe the algorithm, application, or system you parallelized in computer science terms. (Recall our discussion from the last day of class.) Figure(s) would be really useful here.</p>

<p>What are the key data structures?
What are the key operations on these data structures?
What are the algorithm's inputs and outputs?
What is the part that computationally expensive and could benefit from parallelization?
Break down the workload. Where are the dependencies in the program? How much parallelism is there? Is it data-parallel? Where is the locality? Is it amenable to SIMD execution?</p>

<h2>
<a id="approach" class="anchor" href="#approach" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>APPROACH</h2>

<p>Tell us how your implementation works. Your description should be sufficiently detailed to provide the course staff a basic understanding of your approach. Again, it might be very useful to include a figure here illustrating components of the system and/or their mapping to parallel hardware.</p>

<p>Describe the technologies used. What language/APIs? What machines did you target?
Describe how you mapped the problem to your target parallel machine(s). IMPORTANT: How do the data structures and operations you described in part 2 map to machine concepts like cores and threads. (or warps, thread blocks, gangs, etc.)
Did you change the original serial algorithm to enable better mapping to a parallel machine?
If your project involved many iterations of optimization, please describe this process as well. What did you try that did not work? How did you arrive at your solution? The notes you've been writing throughout your project should be helpful here. Convince us you worked hard to arrive at a good solution.
If you started with an existing piece of code, please mention it (and where it came from) here.</p>

<h2>
<a id="results" class="anchor" href="#results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RESULTS</h2>

<p>How successful were you at achieving your goals? We expect results sections to differ from project to project, but we expect your evaluation to be very thorough (your project evaluation is a great way to demonstrate you understood topics from this course). Here are a few ideas:</p>

<p>If your project was optimizing an algorithm, please define how you measured performance. Is it wall-clock time? Speedup? An application specific rate? (e.g., moves per second, images/sec)
Please also describe your experimental setup. What were the size of the inputs? How were requests generated?
Provide graphs of speedup or execute time. Please precisely define the configurations being compared. Is your baseline single-threaded CPU code? It is an optimized parallel implementation for a single CPU?
Recall the importance of problem size. Is it important to report results for different problem sizes for your project? Do different workloads exhibit different execution behavior?
IMPORTANT: What limited your speedup? Is it a lack of parallelism? (dependencies) Communication or synchronization overhead? Data transfer (memory-bound or bus transfer bound). Poor SIMD utilization due to divergence? As you try and answer these questions, we strongly prefer that you provide data and measurements to support your conclusions. If you are merely speculating, please state this explicitly. Performing a solid analysis of your implementation is a good way to pick up credit even if your optimization efforts did not yield the performance you were hoping for.
Deeper analysis: Can you break execution time of your algorithm into a number of distinct components. What percentage of time is spent in each region? Where is there room to improve?
Was your choice of machine target sound? (If you chose a GPU, would a CPU have been a better choice? Or vice versa.)</p>

<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REFERENCES</h2>

<p>Please provide a list of references used in the project.</p>

<hr>

<hr>

<hr>

<h1>
<a id="checkpoint-419" class="anchor" href="#checkpoint-419" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Checkpoint (4/19)</h1>

<h3>
<a id="work-i-have-completed-so-far" class="anchor" href="#work-i-have-completed-so-far" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Work I have completed so far</h3>

<p>Having no previous experience in Swift, I familiarized myself with Swift and Objective C to prepare for this project. As a first step, I replicated the sequential versions assignment one programs in Swift. I plan to use these single core single thread performance as the benchmark for later improvements.</p>

<h3>
<a id="work-schedule" class="anchor" href="#work-schedule" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Work schedule</h3>

<p>The original schedule was to complete the basic parallel primitives (map, reduce, scan, filter) by 4/15. Since learning Swift and setting up the appropriate environments took longer than expected, I have yet completed implementing them. </p>

<p>Yes, I still believe I will be able to produce all your deliverables. An updated and more refined schedule is as below. I plan to have intermediate updates to this webpage at each of the following dates.</p>

<ul>
<li>4/23 (Friday) fully set up Metal and test GPU computation</li>
<li>4/26 (Tuesday) map, reduce</li>
<li>4/30 (Friday) scan, filter</li>
<li>5/3 (Tuesday) machine learning application start</li>
<li>5/6 (Friday) machine learning application done</li>
</ul>

<h3>
<a id="presentation-at-parallelism-competition" class="anchor" href="#presentation-at-parallelism-competition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Presentation at parallelism competition</h3>

<p>Graphs showing (hopefully) a significant speedup using Swift on a common machine learning routine. Explain the motivation of the project, and possible applications of the Blade library.</p>

<h3>
<a id="preliminary-results" class="anchor" href="#preliminary-results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preliminary results</h3>

<p>I have set benchmarks by running assignment one programs using single core single thread environments. More results to follow once the primitives are implemented. </p>

<h3>
<a id="concerns-and-unknowns" class="anchor" href="#concerns-and-unknowns" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Concerns and unknowns</h3>

<p>Finding an appropriate dataset to apply machine learning algorithms using Blade. The dataset should be of an appropriate size. Also, I should ideally record a benchmark performance using a sequential algorithm.</p>

<hr>

<hr>

<hr>

<h1>
<a id="proposal-41" class="anchor" href="#proposal-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Proposal (4/1)</h1>

<h3>
<a id="summary-1" class="anchor" href="#summary-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary</h3>

<p>I plan to implement a Swift 2.0 Library that allows efficient GPU parallel computations on Mac OS X using Metal. Compared to iOS devices, Macs have more powerful GPUs with larger on-device memories, creating greater potential for parallel computation.</p>

<h3>
<a id="background-1" class="anchor" href="#background-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background</h3>

<p>In December 2015, Swift was open sourced and is possibly on its way to become a mainstream programming language. At WWDC 2015, Apple announced support for Metal on OS X, unleashing more efficient computing possibilities for Mac OS applications.</p>

<p>Although originally designed for iOS applications to realize fast real time graphic processing, one important feature of Metal is its integrated support for both graphics and compute operations. Therefore, fields requiring large scale computation such as deep learning can also benefit greatly from this library. </p>

<h3>
<a id="the-challenge" class="anchor" href="#the-challenge" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The Challenge</h3>

<p>Both the Metal API and Swift 2.0 are relatively new. Support and documentation may therefore be limited. I expect more challenge to arise as I proceed with the project.</p>

<h3>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resources</h3>

<ul>
<li><a href="https://developer.apple.com/metal/">https://developer.apple.com/metal/</a></li>
<li><a href="https://developer.apple.com/swift/resources/parall">https://developer.apple.com/swift/resources/parall</a></li>
</ul>

<h3>
<a id="goals-and-deliverables" class="anchor" href="#goals-and-deliverables" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Goals and Deliverables</h3>

<p>If successful, I plan to deliver a set of common parallel primitives that can be used directly in Swift 2.0. To achieve speedup on parallelizable computations,   we expect users to have no knowledge of Metal or the GPU.</p>

<h3>
<a id="platform-choice" class="anchor" href="#platform-choice" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Platform Choice</h3>

<ul>
<li>Mac OS X El Capitan</li>
<li>Swift 2.0</li>
</ul>

<h3>
<a id="schedule" class="anchor" href="#schedule" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Schedule</h3>

<ul>
<li>4/1 Proposal</li>
<li>4/8 Conduct research on and experimenting with Metal on Mac OS X.</li>
<li>4/15 Implement fundamental GPU algorithms such as scan, sort, reduce, map.</li>
<li>4/28 Evaluate and possibly improve the performance of existing code.</li>
<li>5/9 Deadline</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/sams1/418-project">Helmet</a> is maintained by <a href="https://github.com/sams1">sams1</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
